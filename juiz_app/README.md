# juizアプリケーションクレート


## juizコマンド

### 使い方

#### インストール
```
cargo install juiz_app
```

#### 単体オブジェクトのスロード
以下のように--process, --container, --container_process, --componentのオプションの引数で、コンテナやプロセスを単体でロードすることができる。
この時、-1オプションでロードしたモジュール一つにつき1つの実体化を行い、-eオプションでexecuteを行うことができる。executeはデフォルトの引数で実行することになるので、デフォルトの出力を確認することができるはずである。
-dオプションを使えばロードしてオプションが指定されていれば実体化し、実行したのちにもサーバーが停止せずに待機状態になる。
この状態でhttp://localhost:8000/docsに接続すれば、Swagger-UIで動作確認をすることができる。

以下にlibtalker.dylibファイルからプロセスをロードして実体化し、待機するコマンドを示す。
このdylibファイルはC++のプロジェクトから生成したプロセスであるので-lオプションでcppを指定した。
```
juiz --process target/debug/libtalker.dylib -l cpp -d -1 
```

以下に、単体ロード関連のjuizコマンドの引数を示す。
|オプション | 短いオプション | 説明 |
| --process | | プロセスを読み込みます。引数にプロセスの定義されているファイルを指定します。 |
| --container | | コンテナを読み込みます。引数にプロセスの定義されているファイルを指定します。 |
| --container_process | | コンテナプロセスを読み込みます。引数にプロセスの定義されているファイルを指定します。利用するコンテナを同時に読み込んでない場合は失敗します。 |
| --component | | コンポーネントを読み込みます。 |
| --language | -l | 読み込むモジュールの言語を指定します。 [cpp|python|rust]。デフォルトはrustです。 |
| --daemon | -d | ロードした後にサーバーとして待機状態になります。-dを指定しなければロード後に停止します。-eオプションを指定していれば実行後に停止します。 |
| -1 | | ロードしたモジュールからインスタンスを一つずつ作成します。コンポーネントの場合は、コンポーネントマニフェストに追加された順に実体化します。 |
| --execute | -e | 作成したインスタンスがプロセスないしはコンテナプロセスの場合は、それらを作成された順序で実行します。


#### yamlファイルを使ったプロジェクトの記述とロード
